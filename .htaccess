
RewriteEngine On
DirectoryIndex public/index.php

# -----------------------------
# 1. Redirect .php and .html to extensionless URLs (SEO-friendly)
# -----------------------------

RewriteCond %{THE_REQUEST} \s/([^\s]+)\.(php|html)\s [NC]
RewriteRule ^ /%1 [R=301,L]

# -----------------------------
# 2. Serve .php or .html files when extensionless URL is requested
# -----------------------------


# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME}.php -f
# RewriteRule ^(.+)$ $1.php [L]

# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME}.html -f
# RewriteRule ^(.+)$ $1.html [L]


# -----------------------------
# 3. Front controller (router)
# -----------------------------

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ public/index.php [L,QSA]

